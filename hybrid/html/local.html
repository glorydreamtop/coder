<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta content="telephone=no" name="format-detection" />
		<meta content="email=no" name="format-detection" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
	</head>
	<body>
		<div id="article_app">
			123123123
		</div>
	</body>
	<style type="text/css">
		body {
			width: 100vw;
			height: 100vh;
		}
	</style>
	<script type="text/javascript">
		console.log('html show');
		const url = 'https://post-storage-api-ms.juejin.im/v1/getDetailData';
		const params = window.location.search.substring(1);
		console.log(params);
		document.addEventListener('plusready', function() {
			const xhr = new plus.net.XMLHttpRequest();
			xhr.onreadystatechange = function() {
				switch (xhr.readyState) {
					case 0:
						alert("xhr请求已初始化");
						break;
					case 1:
						alert("xhr请求已打开");
						break;
					case 2:
						alert("xhr请求已发送");
						break;
					case 3:
						alert("xhr请求已响应");
						break;
					case 4:
						if (xhr.status == 200) {
							alert("xhr请求成功：");
							console.log(JSON.parse(xhr.responseText).d.content);
						} else {
							alert("xhr请求失败：");
							console.log(xhr.readyState);
						}
						break;
					default:
						break;
				}
			}
			console.log(`${url}?${params}`);
			xhr.open("GET", `${url}?${params}`);
			xhr.send();
			xhr.onload = () => {
				document.getElementById('article_app').innerHTML = JSON.parse(xhr.responseText).d.content;
			}
		}, false);
		// uni.request({
		// 	url:`${url}?${params}`,
		// 	method:'GET'
		// }).then(res => {
		// 	console.log(JSON.stringify(res));
		// }).catch(err => {
		// 	console.log(JSON.stringify(err));
		// })
	</script>
</html>
